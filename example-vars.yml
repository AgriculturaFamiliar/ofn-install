#----------------------------------------------------------------------
# VARIABLES FOR CONFIGURING YOUR OPEN FOOD NETWORK INSTANCE
# 
# Copy this file to vars.yml before filling out.
#----------------------------------------------------------------------


########################################################################################
# IMPORTANT VARIABLES - You will probably want to change these. 

# Your domain name - without http://www etc.
domain: openfoodnetwork.xxx 

# Choose the environment, either production, staging, development or testing. 
# production and staging environments require SSL certificates.
rails_env: production 

# Choose git repo. The branch and commit_id are optional, leave empty to use the latest commit on master.
git_repo: https://github.com/openfoodfoundation/openfoodnetwork.git
branch:
commit_id:

# For digital ocean builds or anywhere you have to set up the default user (by running user.yml), 
# you will need to suply location of an SSH public key for the connection, on your local machine.
ssh_pubkey_path: ~/.ssh/ofn_rsa.pub 

# You will want to set a new db password in production and staging environments.
db_pass: f00d

  

########################################################################################
# OTHER VARIABLES - you probably don't need to change these.


#----------------------------------------------------------------------
# User variables
user: ubuntu
ssh_pubkey: lookup('file', '{{ ssh_pubkey_path }}')

#----------------------------------------------------------------------
# Rails variables
ruby: 1.9.3-p392
gem_home: /home/ubuntu/.gem
bundle_path: /home/ubuntu/.rbenv/shims/bundle
env:
  RAILS_ENV: "{{ rails_env }}"
  PATH: "{{ gem_home }}/bin:{{ ansible_env.PATH }}"
  GEM_HOME: "{{ gem_home }}"
#phantomjs: phantomjs-1.9.0-linux-x86_64

#----------------------------------------------------------------------
# Database variables
db: openfoodnetwork
test_db: ofn_test
db_user: ofn_user
db_host: localhost

#----------------------------------------------------------------------
# App variables
app: openfoodnetwork
home_path: "/home/{{ user }}"
app_path: "{{ home_path }}/apps/{{ app }}"
current_path: "{{ app_path }}/current"
build_path: "{{ app_path }}/build"
shared_path: "{{ app_path }}/shared"
git_post_receive: "{{ current_path }}/.git/hooks/post-receive"

#----------------------------------------------------------------------
# Nginx variables
protocol: http
app_root: "{{ current_path }}"
port: 3000

#----------------------------------------------------------------------
# Unicorn variables
unicorn_user: "{{ user }}"
unicorn_config: "{{ shared_path }}/config/unicorn.rb"
unicorn_log: "{{ shared_path }}/log/unicorn.log"
unicorn_pid: "{{ current_path }}/tmp/pids/unicorn.pid"
unicorn_workers: 2
unicorn_timeout: 30
